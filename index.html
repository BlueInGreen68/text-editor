<!DOCTYPE html>
<html lang="en">

<head>
	<title>Редактор</title>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/style.css">
	<style>
		body {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			display: flex;
			flex-wrap: wrap;
			font-family: monospace;
			background: #ffffff;
			margin: 0;
		}

		.editor {
			height: 100vh;
			width: 100vw;
			background: #ffffff;
			display: block;
			position: relative;
			padding: 25px;
			font-size: 16px;
			color: #111;
			border: 2px solid tomato;
		}
	</style>
</head>

<body>
	<header class="main__header header">
		<ul class="header__list list">
			<li class="list__item list-item">
				<select name="File" id="File" class="list-item__menu menu">
					<option class="menu__option" value="new">Новый</option>
					<option class="menu__option" value="save">Сохранить</option>
					<option class="menu__option" value="open">Открыть</option>
				</select>
				<label for="File" class="list-item__label">Файл</label>
			</li>
			<li class="list__item list-item">
				<select name="Help" id="Help" class="list-item__menu menu">
					<option class="menu__option" value="about-program">О программе</option>
					<option class="menu__option" value="about-author">Об авторе</option>
				</select>
				<label for="Help" class="list-item__label">Помощь</label>
			</li>
		</ul>
		<section class="header__tabs tabs">
			<div class="tabs__tab tab tabs__tab_add" onclick="newtab();">+</div>
		</section>
	</header>
	<div class="editor" data-oncodejs>Добро пожаловать. Снова.</div>

	<!-- Модальное окно "Новый" -->
	<div id="modalWin" class="modal">
		<form action="" class="form">
			<fieldset class="form__area">
				<legend class="form__legend">Выберите расширение нового файла:</legend>
				<ul class="form__list">
					<li class="menu__item">
						<label for="title_1">
							<input type="radio" id="title_1" name="title" value="H">
							HTML
						</label>
					</li>
					<li class="menu__item">
						<label for="title_2">
							<input type="radio" id="title_2" name="title" value="C">
							CSS
						</label>
					</li>
					<li class="menu__item">
						<label for="title_3">
							<input type="radio" id="title_3" name="title" value="J">
							JS
						</label>
					</li>
				</ul>
				<button class="form__accept">OK</button>
				<button class="form__exit">X</button>
			</fieldset>
		</form>
	</div>
	<script src="editor.js"></script>
	<!--	<script src="script.js"></script>-->

	<!-- Табы -->
	<script>
		const tabsTemplates = {
			html: '<div class="tabs__tab tab">Index.html</div>',
			js: '<div class="tabs__tab tab">Script.js</div>',
			css: '<div class="tabs__tab tab">Style.css</div>'
		}


		const tabsBtn = Array.from(document.querySelectorAll(".tab"));

		tabsBtn.forEach(function (item) {
			handleButtonClick(item);
		});

		// Создание новых табов

		const tabAdd = document.querySelector(".header__tabs");

		function newtab() {
			if (tabsBtn.length <= 5) {
				let newtab = document.createElement('div');
				newtab.innerHTML = 'Hello World!';
				newtab.className = 'tabs__tab tab';
				tabsBtn.push(newtab);
				tabAdd.prepend(newtab);
				handleButtonClick(newtab);
			}
			return;
		}

		function handleButtonClick(item) {
			item.addEventListener("click", function () {
				let currentBtn = item;
				tabsBtn.forEach(function (item) {
					item.classList.remove('tabs__tab_active');
				});
				currentBtn.classList.add('tabs__tab_active');
			});
		};
	</script>
</body>

</html>